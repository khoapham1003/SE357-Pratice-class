@startuml
|a| Actor
|sys| system
|ser| server
|a|
start
:Click on "Forgot Password" button;
|sys|
:Move user to Forgot Password screen;
|a|
repeat :Enter old password and new password;
:Click on "Change password" button;
|sys|
backward :Wrong format(message);
repeat while (check format ?) is (Format is incorrect) not (Format is correct)
:Send request;
|ser|
:Authenticate  username;
|sys|
if (Check user) then (Valid user)
:Accept Change password;
:Send OTP;
|a|
:Enter OTP;
|sys|
:Send user's OTP;
|ser|
:Authenticate user's OTP;
|sys|
if (Check OTP) then (Correct OTP)
:Accept OTP;
:Please enter new password(message);
|a|
repeat :Enter new password;
|sys|
backward :Wrong format(message);
repeat while (check format ?) is (Format is incorrect) not (Format is correct)
|sys|
:send request;
|ser|
:Save Changes;
|sys|
:Successfully changes;
:Password changed successfully(message);
:Move user to Sign in screen;
else (Incorrect OTP)
|sys|
:Reject Changes password;
:Wrong OTP(message);
:Ask user enter again;
endif
else (Invalid User)
|sys|
:Reject Changes password;
:Username does not exist(message) ;
:Ask enter username again;
endif


stop
@enduml